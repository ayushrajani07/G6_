[mypy]
python_version = 3.13
ignore_missing_imports = True
warn_unused_ignores = True
warn_redundant_casts = True
warn_unused_configs = True
show_error_codes = True
exclude = (?x)(^tests/|^build/)
follow_imports = skip

explicit_package_bases = True

[mypy-src.web.dashboard.*]
# Stricter typing for dashboard code path (Wave 4 Task 8)
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
warn_unreachable = True
strict_equality = True
# Allow gradual adoption: keep ignore_missing_imports from global for now

[mypy-src.broker.kite.*]
# Temporarily defer strict typing for kite provider while nucleus stabilizes
ignore_errors = True

[mypy-src.collectors.pipeline]
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal

[mypy-src.collectors.pipeline.*]
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal

[mypy-src.collectors.pipeline_root]
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal

# Phase 1 strict nucleus above. The following legacy modules are temporarily silenced
# to allow incremental tightening without blocking progress. Each will be removed
# from ignore_errors in subsequent phases (tracked in Wave 4 expansion plan).
[mypy-src.collectors.unified_collectors]
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal
[mypy-src.collectors.pipeline.executor]
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal
[mypy-src.collectors.pipeline.phases]
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal
[mypy-src.collectors.pipeline.shadow]
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal
[mypy-src.collectors.providers_interface]
ignore_errors = True
[mypy-src.collectors.modules.*]
# Narrow shields: remove blanket ignore; we will unshield in slices.
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal

# (Phase 3) Start with expiry/* subset; others may still be noisy but we want visibility.
# memory_pressure_bridge retains shield temporarily (high OS surface) â€“ will remove later.
[mypy-src.collectors.modules.memory_pressure_bridge]
ignore_errors = True

# Supporting utils temporarily ignored (imported transitively by collectors)
[mypy-src.utils.output]
ignore_errors = True
[mypy-src.utils.memory_pressure]
ignore_errors = True
[mypy-src.utils.memory_manager]
ignore_errors = True

[mypy-src.parity.*]
# Parity scoring & signature components strict typing
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
warn_return_any = True
strict_equality = True
follow_imports = normal

